<!DOCTYPE html>
{% autoescape true %}
<head>
<title>D3 Output</title>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8">
</script>
</head>

<body>
	<!-- Haven't gotten results.json to load yet on this page -->
	<script>
		d3.json("results.json", function(data) {
			var canvas = d3.select("body").append("svg")
			.attr("width", 500)
			.attr("height", 500)

			canvas.selectAll("rect")
				.data(data)
				.enter()
					.append("rect")
					.attr("width", function (d) { return d.debate_data.counts.positive * 10; })
					.attr("height", 48)
					.attr("y", function (d, i) {return i *50;} )
					.attr("fill", "blue")

			canvas.selectAll("text")
				.data(data)
				.enter()
					.append("text")
					.attr("fill", "white")
					.attr("y", function (d, i) {return i *50+24;} )
					.text(function (d) { return d.candidate; })
		} )
	</script>
</body>
{% endautoescape %}